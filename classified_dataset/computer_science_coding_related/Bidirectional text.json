{
  "title": "Bidirectional text",
  "content": "A bidirectional text contains two text directionalities, right-to-left (RTL) and left-to-right (LTR). It generally involves text containing different types of alphabets, but may also refer to boustrophedon, which is changing text direction in each row.\n\nMany computer programs fail to display bidirectional text correctly. For example, this page is mostly LTR English script, and here is the RTL Hebrew name Sarah: , spelled sin () on the right, resh () in the middle, and heh () on the left.\n\nSome so-called right-to-left scripts such as the Persian script and Arabic are mostly, but not exclusively, right-to-left—mathematical expressions, numeric dates and numbers bearing units are embedded from left to right. That also happens if text from a left-to-right language such as English is embedded in them; or vice versa, if Arabic is embedded in a left-to-right script such as English.\n\nBidirectional script support \n\nBidirectional script support is the capability of a computer system to correctly display bidirectional text. The term is often shortened to \"BiDi\" or \"bidi\".\n\nEarly computer installations were designed only to support a single writing system, typically for left-to-right scripts based on the Latin alphabet only. Adding new character sets and character encodings enabled a number of other left-to-right scripts to be supported, but did not easily support right-to-left scripts such as Arabic or Hebrew, and mixing the two was not practical. Right-to-left scripts were introduced through encodings like ISO/IEC 8859-6 and ISO/IEC 8859-8, storing the letters (usually) in writing and reading order. It is possible to simply flip the left-to-right display order to a right-to-left display order, but doing this sacrifices the ability to correctly display left-to-right scripts. With bidirectional script support, it is possible to mix characters from different scripts on the same page, regardless of writing direction.\n\nIn particular, the Unicode standard provides foundations for complete BiDi support, with detailed rules as to how mixtures of left-to-right and right-to-left scripts are to be encoded and displayed.\n\nUnicode bidi support \n\nThe Unicode standard calls for characters to be ordered 'logically', i.e. in the sequence they are intended to be interpreted, as opposed to 'visually', the sequence they appear. This distinction is relevant for bidi support because at any bidi transition, the visual presentation ceases to be the 'logical' one. Thus, in order to offer bidi support, Unicode prescribes an algorithm for how to convert the logical sequence of characters into the correct visual presentation. For this purpose, the Unicode encoding standard divides all its characters into one of four types: 'strong', 'weak', 'neutral', and 'explicit formatting'.\n\nStrong characters \nStrong characters are those with a definite direction. Examples of this type of character include most alphabetic characters, syllabic characters, Han ideographs, non-European or non-Arabic digits, and punctuation characters that are specific to only those scripts.\n\nWeak characters \nWeak characters are those with vague direction. Examples of this type of character include European digits, Eastern Arabic-Indic digits, arithmetic symbols, and currency symbols.\n\nNeutral characters \nNeutral characters have direction indeterminable without context. Examples include paragraph separators, tabs, and most other whitespace characters. Punctuation symbols that are common to many scripts, such as the colon, comma, full-stop, and the no-break-space also fall within this category.\n\nExplicit formatting \nExplicit formatting characters, also referred to as \"directional formatting characters\", are special Unicode sequences that direct the algorithm to modify its default behavior. These characters are subdivided into \"marks\", \"embeddings\", \"isolates\", and \"overrides\". Their effects continue until the occurrence of either a paragraph separator, or a \"pop\" character.\n\nMarks \n\nIf a \"weak\" character is followed by another \"weak\" character, the algorithm will look at the first neighbouring \"strong\" character. Sometimes this leads to unintentional display errors. These errors are corrected or prevented with \"pseudo-strong\" characters. Such Unicode control characters are called marks. The mark ( or ) is to be inserted into a location to make an enclosed weak character inherit its writing direction.\n\nFor example, to correctly display the  for an English name brand (LTR) in an Arabic (RTL) passage, an LRM mark is inserted after the trademark symbol if the symbol is not followed by LTR text (e.g. \"\"). If the LRM mark is not added, the weak character ™ will be neighbored by a strong LTR character and a strong RTL character. Hence, in an RTL context, it will be considered to be RTL, and displayed in an incorrect order (e.g. \"\").\n\nEmbeddings \nThe \"embedding\" directional formatting characters are the classical Unicode method of explicit formatting, and as of Unicode 6.3, are being discouraged in favor of \"isolates\". An \"embedding\" signals that a piece of text is to be treated as directionally distinct. The text within the scope of the embedding formatting characters is not independent of the surrounding text. Also, characters within an embedding can affect the ordering of characters outside. Unicode 6.3 recognized that directional embeddings usually have too strong an effect on their surroundings and are thus unnecessarily difficult to use.\n\nIsolates \nThe \"isolate\" directional formatting characters signal that a piece of text is to be treated as directionally isolated from its surroundings. As of Unicode 6.3, these are the formatting characters that are being encouraged in new documents – once target platforms are known to support them. These formatting characters were introduced after it became apparent that directional embeddings usually have too strong an effect on their surroundings and are thus unnecessarily difficult to use. Unlike the legacy 'embedding' directional formatting characters, 'isolate' characters have no effect on the ordering of the text outside their scope. Isolates can be nested, and may be placed within embeddings and overrides.\n\nOverrides \nThe \"override\" directional formatting characters allow for special cases, such as for part numbers (e.g. to force a part number made of mixed English, digits and Hebrew letters to be written from right to left), and are recommended to be avoided wherever possible. As is true of the other directional formatting characters, \"overrides\" can be nested one inside another, and in embeddings and isolates.\n\nPops \nThe \"pop\" directional formatting characters terminate the scope of the most recent \"embedding\", \"override\", or \"isolate\".\n\nRuns \nIn the algorithm, each sequence of concatenated strong characters is called a \"run\". A \"weak\" character that is located between two \"strong\" characters with the same orientation will inherit their orientation. A \"weak\" character that is located between two \"strong\" characters with a different writing direction will inherit the main context's writing direction (in an LTR document the character will become LTR, in an RTL document, it will become RTL).\n\nTable of possible BiDi character types\n\nSecurity \nUnicode bidirectional characters are used in the Trojan Source vulnerability.\n\nVisual Studio Code highlights BiDi control characters since version 1.62 released in October 2021.\n\nVisual Studio highlights BiDi control characters since version 17.0.3 released on December 14, 2021.\n\nScripts using bidirectional text\n\nEgyptian hieroglyphs \nEgyptian hieroglyphs were written bidirectionally, where the signs that had a distinct \"head\" or \"tail\" faced the beginning of the line.\n\nChinese characters and other CJK scripts \nChinese characters can be written in either direction as well as vertically (top to bottom then right to left), especially in signs (such as plaques), but the orientation of the individual characters does not change. This can often be seen on tour buses in China, where the company name customarily runs from the front of the vehicle to its rear — that is, from right to left on the right side of the bus, and from left to right on the left side of the bus. English texts on the right side of the vehicle are also quite commonly written in reverse order. (See pictures of tour bus and post vehicle below.)\n\nLikewise, other CJK scripts made up of the same square characters, such as the Japanese writing system and Korean writing system, can also be written in any direction, although horizontally left-to-right, top-to-bottom and vertically top-to-bottom right-to-left are the two most common forms.\n\nBoustrophedon \nBoustrophedon is a writing style found in ancient Greek inscriptions, in Old Sabaic (an Old South Arabian language) and in Hungarian runes. This method of writing alternates direction, and usually reverses the individual characters, on each successive line.\n\nMoon type\nMoon type is an embossed adaptation of the Latin alphabet invented as a tactile alphabet for the blind.\nInitially the text changed direction (but not character orientation) at the end of the lines.\nSpecial embossed lines connected the end of a line and the beginning of the next.\nAround 1990, it changed to a left-to-right orientation.\n\nSee also \n Internationalization and localization\n Horizontal and vertical writing in East Asian scripts\n \n Combining Cyrillic Millions\n Right-to-left mark\n Transformation of text\n Boustrophedon\n\nReferences\n\nExternal links \n Unicode Standards Annex #9 The Bidirectional Algorithm\n W3C guidelines on authoring techniques for bi-directional text - includes examples and good explanations\n ICU International Components for Unicode contains an implementation of the bi-directional algorithm — along with other internationalization services\n\nCharacter encoding\nUnicode algorithms\nInternationalization and localization\nWriting direction"
}